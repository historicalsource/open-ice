#
.SUFFIXES : .out .asm .obj .h
#

#
# USED TO MAKE MASTER EQUATE FILE HH.INC
#
EQUS =	HHASM.H HHDISP.H HHMPROC.H HHSYS.H HHS.H HHEQU.H \
	HHM.H HHDIP.H HHAUDN.H HHNHL.H HHSND.H
MEQUS =	HHASM.H+HHDISP.H+HHMPROC.H+HHSYS.H+HHS.H+HHEQU.H+HHM.H+HHDIP.H+HHAUDN.H+HHNHL.H+HHSND.H

OBJS =	HH.OBJ HHAFUNC.OBJ HHC.OBJ HHD.OBJ HHRAM.OBJ \
	HHPUCK.OBJ HHA.OBJ HHPLAYER.OBJ HHCONTRL.OBJ HHTABLES.OBJ \
	HHGAME.OBJ HHSCRIPT.OBJ HHSCORE.OBJ HHHIGHER.OBJ \
	HHATTRCT.OBJ HHSELECT.OBJ HHSHOW.OBJ HHTIMER.OBJ \
	HHDRONE.OBJ

DOBJS =	HHADJ.OBJ HHCMOS.OBJ HHCOIN.OBJ HHDTST.OBJ HHDUTL.OBJ \
	HHMENU.OBJ HHSYSFNT.OBJ HHWORD.OBJ \

SOBJS =	HHMISC.OBJ HHPALL.OBJ HHPROC.OBJ HHSND.OBJ HHTEXT.OBJ \
	HHMATH.OBJ HHTV.OBJ HHFADE.OBJ HHUTIL.OBJ HHUART.OBJ \
	IMGPAL.OBJ IMGTBL.OBJ

.asm.obj:
        @ ECHO *----assembling----$*.ASM(0)
        GSPA $* $*.OBJ $(TVPATH)$*.LST -H -L -v20
	CRNCHLST $(TVPATH)$*.LST

$(TVPATH)HH.OUT: HH.INC $(OBJS) $(TVPATH)HHSYSTEM.RLO $(TVPATH)HHDIAG.RLO
	GLNK HH
	run

$(TVPATH)HHDIAG.RLO: $(DOBJS)
	GLNK HHDIAG

$(TVPATH)HHSYSTEM.RLO: $(SOBJS)
	GLNK HHSYSTEM

HH.INC:	$(EQUS)
        @ ECHO *** UPDATING MERGED EQUATE FILE -- HH.INC ***
	copy $(MEQUS) HH.INC

img: LOD HH.INC $(OBJS) $(TVPATH)HHSYSTEM.RLO $(TVPATH)HHDIAG.RLO
	GLNK HH

LOD:
	newload


$(OBJS):	$*.ASM
$(DOBJS):	$*.ASM
$(SOBJS):	$*.ASM
HHGAME.OBJ:	GOALS.TBL EDGE.TBL HHBOARDS.TBL
HHPROC.OBJ:	HHMPROC.H
HHD.OBJ:	HHDISP.H HHSYS.H HHRINK.TBL
HHC.OBJ:	HHDISP.H HHSYS.H HHASM.H
HHTEXT.OBJ:	HHSTRING.H TEXT.TBL HHSYS.H
HHPALL.OBJ:	HHSYS.H
HHUTIL.OBJ:	HHSYS.H
HH.OBJ:		HHASM.H HHSYS.H HHDIP.H HHEQU.H	
HHCOIN.OBJ:	HHSYS.H
HHDTST.OBJ:	HHSYS.H HHDIP.H
HHDUTL.OBJ:	HHSYS.H HHDIP.H
HHCMOS.OBJ:	HHSYS.H
HHADJ.OBJ:	HHSYS.H HHDIP.H
HHMENU.OBJ:	HHSYS.H HHDIP.H
HHMISC.OBJ:	HHSYS.H
HHRAM.OBJ:	HHDISP.H 
HHSND.OBJ:	HHASM.H
HHSCRIPT.OBJ:	PLAYER.TBL
HHATTRCT.OBJ:	LOGOS.TBL
HHSELECT.OBJ:	HEADS.TBL PNAMES.TBL
